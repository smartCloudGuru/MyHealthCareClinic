<!--
 - Created 20.7.2022..
 -->

<!-- Onl 2 Forgot Password Activation -->
<template>

    <div if:true={loading} class="saved-note slds-m-top_xx-large slds-text-heading_large slds-p-around_large">
        <br/>
        <p class="slds-align_absolute-center">Please wait&mldr;</p>
    </div>

    <div if:true={loading} class="spinner-holder slds-align_absolute-center">
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </div>

    <div if:true={success} class="slds-align_absolute-center width-limited">
        <lightning-layout
                if:false={loading}
                multiple-rows="true"
                horizontal-align="start"
                class="slds-p-around_medium field-width-limit no-margin-button-form">

            <lightning-layout-item
                    size=12 small-device-size=12 medium-device-size=12 large-device-size=12 padding="around-small">
                <p style="margin-bottom:0">Choose a new password:</p>
            </lightning-layout-item>

            <lightning-layout-item
                    size=12 small-device-size=12 medium-device-size=12 large-device-size=12 padding="around-small">
                <lightning-input type="password"
                                 label="Choose a Password (min 8 characters)"
                                 data-formfield="password1"
                                 max-length=32
                                 pattern={passwordPattern}
                                 autocomplete="new-password"
                                 required
                                 name="input1"
                ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
                    size=12 small-device-size=12 medium-device-size=12 large-device-size=12 padding="around-small">
                <lightning-input type="password"
                                 label="Confirm Password"
                                 data-formfield="password2"
                                 autocomplete="new-password"
                                 max-length=32
                                 required
                                 name="input2"
                ></lightning-input>
            </lightning-layout-item>

            <lightning-layout-item
                    size=12 small-device-size=12 medium-device-size=12 large-device-size=12
                    class="slds-align_absolute-center"
                    padding="around-small">
                <lightning-button
                        label="Confirm"
                        class="mhc-button primary-button slds-m-top_small"
                        onclick={handlePassChangeConfirm}>
                </lightning-button>
            </lightning-layout-item>
        </lightning-layout>

    </div>

    <div if:true={doneChange} class="slds-align_absolute-center width-limited">
        <lightning-layout
                if:false={loading}
                multiple-rows="true"
                horizontal-align="start"
                class="slds-p-around_medium field-width-limit no-margin-button-form">

            <lightning-layout-item
                    size=12 small-device-size=12 medium-device-size=12 large-device-size=12 padding="around-small">
                <p style="margin-bottom:0">Your password has been changed</p>
            </lightning-layout-item>
        </lightning-layout>
    </div>

    <template if:false={loading}>
        <div if:true={error} class="slds-align_absolute-center slds-text-color_error slds-m-top_xx-large">
            {msgError}
        </div>

        <div class="width-limited slds-text-align_center">
            <a href="?page=main" class="button_link back-to-site" role="button">{storeConfig.backToStoreText}</a>
            <div if:true={storeConfig.backToWebsiteUrl}>
                <a href={storeConfig.backToWebsiteUrl} class="button_link back-to-site" role="button">{storeConfig.backToWebsiteText}</a>
            </div>
        </div>
    </template>
</template>